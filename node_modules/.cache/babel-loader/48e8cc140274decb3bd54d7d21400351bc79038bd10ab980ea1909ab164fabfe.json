{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Marc\\\\Desktop\\\\futbol-dashboard\\\\frontend\\\\src\\\\components\\\\dashboard\\\\AdminSessionsSection.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { authHeader } from '../../services/auth';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction AdminSessionsSection() {\n  _s();\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n  const [teams, setTeams] = useState([]);\n  const [coaches, setCoaches] = useState([]);\n  const [selectedCoach, setSelectedCoach] = useState(null);\n  const [sessions, setSessions] = useState([]);\n  const [searchQuery, setSearchQuery] = useState('');\n  const [dateRange, setDateRange] = useState({\n    startDate: '',\n    endDate: ''\n  });\n  const [selectedSession, setSelectedSession] = useState(null);\n  const [sessionDetails, setSessionDetails] = useState(null);\n\n  // Cargar entrenadores y equipos al iniciar\n  useEffect(() => {\n    loadTeamsAndCoaches();\n  }, []);\n\n  // Cargar sesiones cuando se selecciona un entrenador\n  useEffect(() => {\n    if (selectedCoach) {\n      loadCoachSessions(selectedCoach);\n    } else {\n      loadAllSessions();\n    }\n  }, [selectedCoach]);\n\n  // Función para cargar equipos y entrenadores\n  const loadTeamsAndCoaches = async () => {\n    try {\n      setLoading(true);\n\n      // Cargar equipos\n      const teamsResponse = await fetch('http://localhost:8000/api/teams/', {\n        headers: authHeader()\n      });\n      if (!teamsResponse.ok) {\n        throw new Error(`Error ${teamsResponse.status}`);\n      }\n      const teamsData = await teamsResponse.json();\n      setTeams(Array.isArray(teamsData) ? teamsData : []);\n\n      // Cargar usuarios (filtrar entrenadores)\n      const usersResponse = await fetch('http://localhost:8000/api/users/', {\n        headers: authHeader()\n      });\n      if (!usersResponse.ok) {\n        throw new Error(`Error ${usersResponse.status}`);\n      }\n      const usersData = await usersResponse.json();\n      const coachesData = usersData.filter(user => user.role === 'coach');\n      setCoaches(coachesData);\n\n      // Cargar todas las sesiones inicialmente\n      await loadAllSessions();\n    } catch (err) {\n      setError(`Error al cargar datos: ${err.message}`);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Función para cargar todas las sesiones\n  const loadAllSessions = async () => {\n    try {\n      setLoading(true);\n      const response = await fetch('http://localhost:8000/api/sessions/admin/', {\n        headers: authHeader()\n      });\n      if (!response.ok) {\n        throw new Error(`Error ${response.status}`);\n      }\n      const data = await response.json();\n      setSessions(Array.isArray(data) ? data : []);\n    } catch (err) {\n      setError(`Error al cargar sesiones: ${err.message}`);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Función para cargar sesiones de un entrenador específico\n  const loadCoachSessions = async coachId => {\n    try {\n      setLoading(true);\n      const response = await fetch(`http://localhost:8000/api/sessions/admin/?coach=${coachId}`, {\n        headers: authHeader()\n      });\n      if (!response.ok) {\n        throw new Error(`Error ${response.status}`);\n      }\n      const data = await response.json();\n      setSessions(Array.isArray(data) ? data : []);\n    } catch (err) {\n      setError(`Error al cargar sesiones del entrenador: ${err.message}`);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Función para cargar detalles de una sesión específica\n  const loadSessionDetails = async sessionId => {\n    try {\n      setLoading(true);\n      const response = await fetch(`http://localhost:8000/api/sessions/${sessionId}/`, {\n        headers: authHeader()\n      });\n      if (!response.ok) {\n        throw new Error(`Error ${response.status}`);\n      }\n      const data = await response.json();\n      setSessionDetails(data);\n    } catch (err) {\n      setError(`Error al cargar detalles de la sesión: ${err.message}`);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Función para manejar selección de entrenador\n  const handleCoachChange = e => {\n    const coachId = e.target.value;\n    setSelectedCoach(coachId === 'all' ? null : coachId);\n  };\n\n  // Función para manejar búsqueda\n  const handleSearchChange = e => {\n    setSearchQuery(e.target.value);\n  };\n\n  // Función para manejar cambios en el rango de fechas\n  const handleDateRangeChange = e => {\n    setDateRange({\n      ...dateRange,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  // Función para abrir modal de sesión\n  const handleSessionClick = session => {\n    setSelectedSession(session);\n    loadSessionDetails(session.id || session._id);\n  };\n\n  // Filtrar sesiones por búsqueda y rango de fechas\n  const filteredSessions = sessions.filter(session => {\n    // Filtrar por búsqueda en tareas\n    const searchMatch = !searchQuery || session.tasks_details && session.tasks_details.some(task => task.title.toLowerCase().includes(searchQuery.toLowerCase()) || task.description.toLowerCase().includes(searchQuery.toLowerCase()));\n\n    // Filtrar por rango de fechas\n    let dateMatch = true;\n    if (dateRange.startDate) {\n      const sessionDate = new Date(session.date);\n      const startDate = new Date(dateRange.startDate);\n      dateMatch = dateMatch && sessionDate >= startDate;\n    }\n    if (dateRange.endDate) {\n      const sessionDate = new Date(session.date);\n      const endDate = new Date(dateRange.endDate);\n      endDate.setHours(23, 59, 59); // Incluir todo el día final\n      dateMatch = dateMatch && sessionDate <= endDate;\n    }\n    return searchMatch && dateMatch;\n  });\n\n  // Agrupar sesiones por entrenador\n  const sessionsByCoach = filteredSessions.reduce((acc, session) => {\n    const coachId = session.owner;\n    if (!acc[coachId]) {\n      acc[coachId] = [];\n    }\n    acc[coachId].push(session);\n    return acc;\n  }, {});\n\n  // Formatear fecha\n  const formatDate = dateString => {\n    if (!dateString) return 'Fecha no disponible';\n    const options = {\n      year: 'numeric',\n      month: 'long',\n      day: 'numeric'\n    };\n    return new Date(dateString).toLocaleDateString(undefined, options);\n  };\n\n  // Obtener nombre del entrenador por ID\n  const getCoachName = coachId => {\n    const coach = coaches.find(c => c.id === coachId || c._id === coachId);\n    if (coach) {\n      return coach.first_name && coach.last_name ? `${coach.first_name} ${coach.last_name}` : coach.username;\n    }\n    return 'Entrenador desconocido';\n  };\n\n  // Obtener nombre del equipo por ID\n  const getTeamName = teamId => {\n    const team = teams.find(t => t.id === teamId || t._id === teamId);\n    return team ? team.name : 'Equipo no asignado';\n  };\n\n  // Obtener equipo del entrenador\n  const getCoachTeam = coachId => {\n    const coach = coaches.find(c => c.id === coachId || c._id === coachId);\n    if (coach && coach.team) {\n      return getTeamName(coach.team);\n    }\n    return 'Sin equipo asignado';\n  };\n\n  // Obtener iniciales del nombre del entrenador\n  const getCoachInitials = coachId => {\n    const coach = coaches.find(c => c.id === coachId || c._id === coachId);\n    if (coach) {\n      if (coach.first_name && coach.last_name) {\n        return `${coach.first_name[0]}${coach.last_name[0]}`.toUpperCase();\n      }\n      return coach.username.substring(0, 2).toUpperCase();\n    }\n    return '??';\n  };\n\n  // Calcular duración total de la sesión\n  const calculateSessionDuration = session => {\n    if (!session.tasks_details || !session.tasks_details.length) {\n      return 0;\n    }\n    return session.tasks_details.reduce((total, task) => {\n      return total + (parseInt(task.duration) || 0);\n    }, 0);\n  };\n\n  // Limpiar filtros\n  const clearFilters = () => {\n    setSearchQuery('');\n    setDateRange({\n      startDate: '',\n      endDate: ''\n    });\n  };\n\n  // Renderizar estado de carga\n  if (loading && sessions.length === 0) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"content-wrapper\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Administraci\\xF3n de Sesiones\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 272,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"loading-state\",\n        children: [/*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fas fa-spinner fa-spin\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 274,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"Cargando sesiones...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 275,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 273,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 271,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"content-wrapper\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Administraci\\xF3n de Sesiones\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 283,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"error-message\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 285,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"admin-sessions-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"sessions-filters\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"coach-selector\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"coach-select\",\n            children: \"Filtrar por Entrenador:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 291,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            id: \"coach-select\",\n            onChange: handleCoachChange,\n            value: selectedCoach || 'all',\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"all\",\n              children: \"Todos los entrenadores\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 297,\n              columnNumber: 15\n            }, this), coaches.map(coach => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: coach.id || coach._id,\n              children: [coach.first_name && coach.last_name ? `${coach.first_name} ${coach.last_name}` : coach.username, \" (\", getCoachTeam(coach.id || coach._id), \")\"]\n            }, coach.id || coach._id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 299,\n              columnNumber: 17\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 292,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 290,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"search-filters\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"search-input\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              placeholder: \"Buscar en tareas...\",\n              value: searchQuery,\n              onChange: handleSearchChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 310,\n              columnNumber: 15\n            }, this), searchQuery && /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"clear-search\",\n              onClick: () => setSearchQuery(''),\n              children: /*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"fas fa-times\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 321,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 317,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 309,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"date-filters\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"date-range\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"Desde:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 328,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"date\",\n                name: \"startDate\",\n                value: dateRange.startDate,\n                onChange: handleDateRangeChange\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 329,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 327,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"date-range\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"Hasta:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 337,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"date\",\n                name: \"endDate\",\n                value: dateRange.endDate,\n                onChange: handleDateRangeChange\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 338,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 336,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 326,\n            columnNumber: 13\n          }, this), (searchQuery || dateRange.startDate || dateRange.endDate) && /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"clear-filters-btn\",\n            onClick: clearFilters,\n            children: \"Limpiar filtros\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 348,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 308,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 289,\n        columnNumber: 9\n      }, this), Object.keys(sessionsByCoach).length === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"empty-state\",\n        children: [/*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fas fa-calendar-alt\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 358,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"No se encontraron sesiones con los filtros actuales\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 359,\n          columnNumber: 13\n        }, this), (searchQuery || dateRange.startDate || dateRange.endDate) && /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-secondary\",\n          onClick: clearFilters,\n          children: \"Limpiar filtros\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 361,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 357,\n        columnNumber: 11\n      }, this), Object.keys(sessionsByCoach).map(coachId => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"coach-sessions-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"coach-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"coach-avatar\",\n            children: getCoachInitials(coachId)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 372,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"coach-info\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"coach-name\",\n              children: getCoachName(coachId)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 376,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"coach-team\",\n              children: getCoachTeam(coachId)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 377,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 375,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"sessions-count\",\n            children: [sessionsByCoach[coachId].length, \" \", sessionsByCoach[coachId].length === 1 ? 'sesión' : 'sesiones']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 379,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 371,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"sessions-grid\",\n          children: sessionsByCoach[coachId].map(session => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"session-card\",\n            onClick: () => handleSessionClick(session),\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"session-header\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"session-date\",\n                children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"fas fa-calendar\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 393,\n                  columnNumber: 23\n                }, this), \" \", formatDate(session.date)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 392,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"session-created\",\n                children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"fas fa-clock\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 396,\n                  columnNumber: 23\n                }, this), \" Creada: \", formatDate(session.created_at)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 395,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 391,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"session-body\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"session-tasks\",\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  children: [\"Tareas (\", session.tasks_details ? session.tasks_details.length : 0, \")\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 402,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n                  className: \"task-list\",\n                  children: session.tasks_details && session.tasks_details.map(task => /*#__PURE__*/_jsxDEV(\"li\", {\n                    className: \"task-item\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"task-title\",\n                      children: task.title\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 406,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"task-duration\",\n                      children: [task.duration, \"min\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 407,\n                      columnNumber: 29\n                    }, this)]\n                  }, task.id || task._id, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 405,\n                    columnNumber: 27\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 403,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 401,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"session-players\",\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  children: [\"Jugadores (\", session.players_details ? session.players_details.length : 0, \")\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 414,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"player-avatars\",\n                  children: [session.players_details && session.players_details.slice(0, 5).map(player => /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"player-avatar\",\n                    title: `${player.name} ${player.last_name}`,\n                    children: [player.name[0], player.last_name[0]]\n                  }, player.id || player._id, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 419,\n                    columnNumber: 27\n                  }, this)), session.players_details && session.players_details.length > 5 && /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"player-avatar more\",\n                    children: [\"+\", session.players_details.length - 5]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 429,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 417,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 413,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 400,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"session-footer\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"session-duration\",\n                children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"fas fa-hourglass-half\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 439,\n                  columnNumber: 23\n                }, this), \"Duraci\\xF3n total: \", calculateSessionDuration(session), \" min\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 438,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"view-details-btn\",\n                children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"fas fa-eye\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 443,\n                  columnNumber: 23\n                }, this), \" Ver detalles\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 442,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 437,\n              columnNumber: 19\n            }, this)]\n          }, session.id || session._id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 386,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 384,\n          columnNumber: 13\n        }, this)]\n      }, coachId, true, {\n        fileName: _jsxFileName,\n        lineNumber: 370,\n        columnNumber: 11\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 287,\n      columnNumber: 7\n    }, this), selectedSession && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal-overlay\",\n      onClick: () => setSelectedSession(null),\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"session-detail-modal\",\n        onClick: e => e.stopPropagation(),\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"Detalles de la Sesi\\xF3n\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 458,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"close-modal\",\n            onClick: () => setSelectedSession(null),\n            children: /*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"fas fa-times\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 460,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 459,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 457,\n          columnNumber: 13\n        }, this), loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-loading\",\n          children: [/*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"fas fa-spinner fa-spin\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 466,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Cargando detalles...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 467,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 465,\n          columnNumber: 15\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-content\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"session-meta\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"meta-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"fas fa-calendar\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 473,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: [\"Fecha: \", formatDate(selectedSession.date)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 474,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 472,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"meta-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"fas fa-user\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 477,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: [\"Entrenador: \", getCoachName(selectedSession.owner)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 478,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 476,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"meta-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"fas fa-futbol\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 481,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: [\"Equipo: \", getCoachTeam(selectedSession.owner)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 482,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 480,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"meta-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"fas fa-clock\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 485,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: [\"Duraci\\xF3n: \", calculateSessionDuration(selectedSession), \" minutos\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 486,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 484,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 471,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"session-detail-sections\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"detail-section\",\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                children: \"Tareas de la Sesi\\xF3n\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 492,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"tasks-detail-grid\",\n                children: selectedSession.tasks_details && selectedSession.tasks_details.map(task => /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"task-detail-card\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"task-image\",\n                    children: /*#__PURE__*/_jsxDEV(\"img\", {\n                      src: task.image,\n                      alt: task.title,\n                      onError: e => {\n                        e.target.onerror = null;\n                        e.target.src = \"https://via.placeholder.com/150?text=Sin+imagen\";\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 497,\n                      columnNumber: 29\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 496,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"task-detail-content\",\n                    children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                      children: task.title\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 503,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      children: task.description\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 504,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"task-detail-meta\",\n                      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                        children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                          className: \"fas fa-users\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 506,\n                          columnNumber: 37\n                        }, this), \" \", task.participants, \" jugadores\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 506,\n                        columnNumber: 31\n                      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                        children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                          className: \"fas fa-clock\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 507,\n                          columnNumber: 37\n                        }, this), \" \", task.duration, \" min\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 507,\n                        columnNumber: 31\n                      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                        children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                          className: \"fas fa-tag\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 508,\n                          columnNumber: 37\n                        }, this), \" \", task.category]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 508,\n                        columnNumber: 31\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 505,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 502,\n                    columnNumber: 27\n                  }, this)]\n                }, task.id || task._id, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 495,\n                  columnNumber: 25\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 493,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 491,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"detail-section\",\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                children: \"Jugadores Seleccionados\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 517,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"players-detail-grid\",\n                children: selectedSession.players_details && selectedSession.players_details.map(player => /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"player-detail-card\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"player-number\",\n                    children: player.number\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 521,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"player-detail-name\",\n                    children: [player.name, \" \", player.last_name]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 522,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"player-position\",\n                    children: player.position\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 525,\n                    columnNumber: 27\n                  }, this)]\n                }, player.id || player._id, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 520,\n                  columnNumber: 25\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 518,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 516,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 490,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 470,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-footer\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-secondary\",\n            onClick: () => setSelectedSession(null),\n            children: \"Cerrar\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 535,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 534,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 456,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 455,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 282,\n    columnNumber: 5\n  }, this);\n}\n_s(AdminSessionsSection, \"wN506fsEXT+UfaJhc0t3oQAoARw=\");\n_c = AdminSessionsSection;\nexport default AdminSessionsSection;\nvar _c;\n$RefreshReg$(_c, \"AdminSessionsSection\");","map":{"version":3,"names":["React","useState","useEffect","authHeader","jsxDEV","_jsxDEV","AdminSessionsSection","_s","loading","setLoading","error","setError","teams","setTeams","coaches","setCoaches","selectedCoach","setSelectedCoach","sessions","setSessions","searchQuery","setSearchQuery","dateRange","setDateRange","startDate","endDate","selectedSession","setSelectedSession","sessionDetails","setSessionDetails","loadTeamsAndCoaches","loadCoachSessions","loadAllSessions","teamsResponse","fetch","headers","ok","Error","status","teamsData","json","Array","isArray","usersResponse","usersData","coachesData","filter","user","role","err","message","response","data","coachId","loadSessionDetails","sessionId","handleCoachChange","e","target","value","handleSearchChange","handleDateRangeChange","name","handleSessionClick","session","id","_id","filteredSessions","searchMatch","tasks_details","some","task","title","toLowerCase","includes","description","dateMatch","sessionDate","Date","date","setHours","sessionsByCoach","reduce","acc","owner","push","formatDate","dateString","options","year","month","day","toLocaleDateString","undefined","getCoachName","coach","find","c","first_name","last_name","username","getTeamName","teamId","team","t","getCoachTeam","getCoachInitials","toUpperCase","substring","calculateSessionDuration","length","total","parseInt","duration","clearFilters","className","children","fileName","_jsxFileName","lineNumber","columnNumber","htmlFor","onChange","map","type","placeholder","onClick","Object","keys","created_at","players_details","slice","player","stopPropagation","src","image","alt","onError","onerror","participants","category","number","position","_c","$RefreshReg$"],"sources":["C:/Users/Marc/Desktop/futbol-dashboard/frontend/src/components/dashboard/AdminSessionsSection.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { authHeader } from '../../services/auth';\r\n\r\nfunction AdminSessionsSection() {\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState('');\r\n  const [teams, setTeams] = useState([]);\r\n  const [coaches, setCoaches] = useState([]);\r\n  const [selectedCoach, setSelectedCoach] = useState(null);\r\n  const [sessions, setSessions] = useState([]);\r\n  const [searchQuery, setSearchQuery] = useState('');\r\n  const [dateRange, setDateRange] = useState({\r\n    startDate: '',\r\n    endDate: ''\r\n  });\r\n  const [selectedSession, setSelectedSession] = useState(null);\r\n  const [sessionDetails, setSessionDetails] = useState(null);\r\n\r\n  // Cargar entrenadores y equipos al iniciar\r\n  useEffect(() => {\r\n    loadTeamsAndCoaches();\r\n  }, []);\r\n\r\n  // Cargar sesiones cuando se selecciona un entrenador\r\n  useEffect(() => {\r\n    if (selectedCoach) {\r\n      loadCoachSessions(selectedCoach);\r\n    } else {\r\n      loadAllSessions();\r\n    }\r\n  }, [selectedCoach]);\r\n\r\n  // Función para cargar equipos y entrenadores\r\n  const loadTeamsAndCoaches = async () => {\r\n    try {\r\n      setLoading(true);\r\n      \r\n      // Cargar equipos\r\n      const teamsResponse = await fetch('http://localhost:8000/api/teams/', {\r\n        headers: authHeader()\r\n      });\r\n      \r\n      if (!teamsResponse.ok) {\r\n        throw new Error(`Error ${teamsResponse.status}`);\r\n      }\r\n      \r\n      const teamsData = await teamsResponse.json();\r\n      setTeams(Array.isArray(teamsData) ? teamsData : []);\r\n      \r\n      // Cargar usuarios (filtrar entrenadores)\r\n      const usersResponse = await fetch('http://localhost:8000/api/users/', {\r\n        headers: authHeader()\r\n      });\r\n      \r\n      if (!usersResponse.ok) {\r\n        throw new Error(`Error ${usersResponse.status}`);\r\n      }\r\n      \r\n      const usersData = await usersResponse.json();\r\n      const coachesData = usersData.filter(user => user.role === 'coach');\r\n      setCoaches(coachesData);\r\n      \r\n      // Cargar todas las sesiones inicialmente\r\n      await loadAllSessions();\r\n      \r\n    } catch (err) {\r\n      setError(`Error al cargar datos: ${err.message}`);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  // Función para cargar todas las sesiones\r\n  const loadAllSessions = async () => {\r\n    try {\r\n      setLoading(true);\r\n      \r\n      const response = await fetch('http://localhost:8000/api/sessions/admin/', {\r\n        headers: authHeader()\r\n      });\r\n      \r\n      if (!response.ok) {\r\n        throw new Error(`Error ${response.status}`);\r\n      }\r\n      \r\n      const data = await response.json();\r\n      setSessions(Array.isArray(data) ? data : []);\r\n      \r\n    } catch (err) {\r\n      setError(`Error al cargar sesiones: ${err.message}`);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  // Función para cargar sesiones de un entrenador específico\r\n  const loadCoachSessions = async (coachId) => {\r\n    try {\r\n      setLoading(true);\r\n      \r\n      const response = await fetch(`http://localhost:8000/api/sessions/admin/?coach=${coachId}`, {\r\n        headers: authHeader()\r\n      });\r\n      \r\n      if (!response.ok) {\r\n        throw new Error(`Error ${response.status}`);\r\n      }\r\n      \r\n      const data = await response.json();\r\n      setSessions(Array.isArray(data) ? data : []);\r\n      \r\n    } catch (err) {\r\n      setError(`Error al cargar sesiones del entrenador: ${err.message}`);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  // Función para cargar detalles de una sesión específica\r\n  const loadSessionDetails = async (sessionId) => {\r\n    try {\r\n      setLoading(true);\r\n      \r\n      const response = await fetch(`http://localhost:8000/api/sessions/${sessionId}/`, {\r\n        headers: authHeader()\r\n      });\r\n      \r\n      if (!response.ok) {\r\n        throw new Error(`Error ${response.status}`);\r\n      }\r\n      \r\n      const data = await response.json();\r\n      setSessionDetails(data);\r\n      \r\n    } catch (err) {\r\n      setError(`Error al cargar detalles de la sesión: ${err.message}`);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  // Función para manejar selección de entrenador\r\n  const handleCoachChange = (e) => {\r\n    const coachId = e.target.value;\r\n    setSelectedCoach(coachId === 'all' ? null : coachId);\r\n  };\r\n\r\n  // Función para manejar búsqueda\r\n  const handleSearchChange = (e) => {\r\n    setSearchQuery(e.target.value);\r\n  };\r\n\r\n  // Función para manejar cambios en el rango de fechas\r\n  const handleDateRangeChange = (e) => {\r\n    setDateRange({\r\n      ...dateRange,\r\n      [e.target.name]: e.target.value\r\n    });\r\n  };\r\n\r\n  // Función para abrir modal de sesión\r\n  const handleSessionClick = (session) => {\r\n    setSelectedSession(session);\r\n    loadSessionDetails(session.id || session._id);\r\n  };\r\n\r\n  // Filtrar sesiones por búsqueda y rango de fechas\r\n  const filteredSessions = sessions.filter(session => {\r\n    // Filtrar por búsqueda en tareas\r\n    const searchMatch = !searchQuery || \r\n      (session.tasks_details && session.tasks_details.some(task => \r\n        task.title.toLowerCase().includes(searchQuery.toLowerCase()) ||\r\n        task.description.toLowerCase().includes(searchQuery.toLowerCase())\r\n      ));\r\n\r\n    // Filtrar por rango de fechas\r\n    let dateMatch = true;\r\n    \r\n    if (dateRange.startDate) {\r\n      const sessionDate = new Date(session.date);\r\n      const startDate = new Date(dateRange.startDate);\r\n      dateMatch = dateMatch && sessionDate >= startDate;\r\n    }\r\n    \r\n    if (dateRange.endDate) {\r\n      const sessionDate = new Date(session.date);\r\n      const endDate = new Date(dateRange.endDate);\r\n      endDate.setHours(23, 59, 59); // Incluir todo el día final\r\n      dateMatch = dateMatch && sessionDate <= endDate;\r\n    }\r\n    \r\n    return searchMatch && dateMatch;\r\n  });\r\n\r\n  // Agrupar sesiones por entrenador\r\n  const sessionsByCoach = filteredSessions.reduce((acc, session) => {\r\n    const coachId = session.owner;\r\n    if (!acc[coachId]) {\r\n      acc[coachId] = [];\r\n    }\r\n    acc[coachId].push(session);\r\n    return acc;\r\n  }, {});\r\n\r\n  // Formatear fecha\r\n  const formatDate = (dateString) => {\r\n    if (!dateString) return 'Fecha no disponible';\r\n    \r\n    const options = { year: 'numeric', month: 'long', day: 'numeric' };\r\n    return new Date(dateString).toLocaleDateString(undefined, options);\r\n  };\r\n\r\n  // Obtener nombre del entrenador por ID\r\n  const getCoachName = (coachId) => {\r\n    const coach = coaches.find(c => c.id === coachId || c._id === coachId);\r\n    if (coach) {\r\n      return coach.first_name && coach.last_name \r\n        ? `${coach.first_name} ${coach.last_name}` \r\n        : coach.username;\r\n    }\r\n    return 'Entrenador desconocido';\r\n  };\r\n\r\n  // Obtener nombre del equipo por ID\r\n  const getTeamName = (teamId) => {\r\n    const team = teams.find(t => t.id === teamId || t._id === teamId);\r\n    return team ? team.name : 'Equipo no asignado';\r\n  };\r\n\r\n  // Obtener equipo del entrenador\r\n  const getCoachTeam = (coachId) => {\r\n    const coach = coaches.find(c => c.id === coachId || c._id === coachId);\r\n    if (coach && coach.team) {\r\n      return getTeamName(coach.team);\r\n    }\r\n    return 'Sin equipo asignado';\r\n  };\r\n\r\n  // Obtener iniciales del nombre del entrenador\r\n  const getCoachInitials = (coachId) => {\r\n    const coach = coaches.find(c => c.id === coachId || c._id === coachId);\r\n    if (coach) {\r\n      if (coach.first_name && coach.last_name) {\r\n        return `${coach.first_name[0]}${coach.last_name[0]}`.toUpperCase();\r\n      }\r\n      return coach.username.substring(0, 2).toUpperCase();\r\n    }\r\n    return '??';\r\n  };\r\n\r\n  // Calcular duración total de la sesión\r\n  const calculateSessionDuration = (session) => {\r\n    if (!session.tasks_details || !session.tasks_details.length) {\r\n      return 0;\r\n    }\r\n    \r\n    return session.tasks_details.reduce((total, task) => {\r\n      return total + (parseInt(task.duration) || 0);\r\n    }, 0);\r\n  };\r\n\r\n  // Limpiar filtros\r\n  const clearFilters = () => {\r\n    setSearchQuery('');\r\n    setDateRange({ startDate: '', endDate: '' });\r\n  };\r\n\r\n  // Renderizar estado de carga\r\n  if (loading && sessions.length === 0) {\r\n    return (\r\n      <div className=\"content-wrapper\">\r\n        <h2>Administración de Sesiones</h2>\r\n        <div className=\"loading-state\">\r\n          <i className=\"fas fa-spinner fa-spin\"></i>\r\n          <span>Cargando sesiones...</span>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"content-wrapper\">\r\n      <h2>Administración de Sesiones</h2>\r\n      \r\n      {error && <div className=\"error-message\">{error}</div>}\r\n      \r\n      <div className=\"admin-sessions-container\">\r\n        {/* Filtros y selectores */}\r\n        <div className=\"sessions-filters\">\r\n          <div className=\"coach-selector\">\r\n            <label htmlFor=\"coach-select\">Filtrar por Entrenador:</label>\r\n            <select \r\n              id=\"coach-select\" \r\n              onChange={handleCoachChange}\r\n              value={selectedCoach || 'all'}\r\n            >\r\n              <option value=\"all\">Todos los entrenadores</option>\r\n              {coaches.map(coach => (\r\n                <option key={coach.id || coach._id} value={coach.id || coach._id}>\r\n                  {coach.first_name && coach.last_name \r\n                    ? `${coach.first_name} ${coach.last_name}` \r\n                    : coach.username} ({getCoachTeam(coach.id || coach._id)})\r\n                </option>\r\n              ))}\r\n            </select>\r\n          </div>\r\n          \r\n          <div className=\"search-filters\">\r\n            <div className=\"search-input\">\r\n              <input\r\n                type=\"text\"\r\n                placeholder=\"Buscar en tareas...\"\r\n                value={searchQuery}\r\n                onChange={handleSearchChange}\r\n              />\r\n              {searchQuery && (\r\n                <button \r\n                  className=\"clear-search\" \r\n                  onClick={() => setSearchQuery('')}\r\n                >\r\n                  <i className=\"fas fa-times\"></i>\r\n                </button>\r\n              )}\r\n            </div>\r\n            \r\n            <div className=\"date-filters\">\r\n              <div className=\"date-range\">\r\n                <label>Desde:</label>\r\n                <input\r\n                  type=\"date\"\r\n                  name=\"startDate\"\r\n                  value={dateRange.startDate}\r\n                  onChange={handleDateRangeChange}\r\n                />\r\n              </div>\r\n              <div className=\"date-range\">\r\n                <label>Hasta:</label>\r\n                <input\r\n                  type=\"date\"\r\n                  name=\"endDate\"\r\n                  value={dateRange.endDate}\r\n                  onChange={handleDateRangeChange}\r\n                />\r\n              </div>\r\n            </div>\r\n            \r\n            {(searchQuery || dateRange.startDate || dateRange.endDate) && (\r\n              <button className=\"clear-filters-btn\" onClick={clearFilters}>\r\n                Limpiar filtros\r\n              </button>\r\n            )}\r\n          </div>\r\n        </div>\r\n        \r\n        {/* Estado vacío */}\r\n        {Object.keys(sessionsByCoach).length === 0 && (\r\n          <div className=\"empty-state\">\r\n            <i className=\"fas fa-calendar-alt\"></i>\r\n            <p>No se encontraron sesiones con los filtros actuales</p>\r\n            {(searchQuery || dateRange.startDate || dateRange.endDate) && (\r\n              <button className=\"btn btn-secondary\" onClick={clearFilters}>\r\n                Limpiar filtros\r\n              </button>\r\n            )}\r\n          </div>\r\n        )}\r\n        \r\n        {/* Sesiones agrupadas por entrenador */}\r\n        {Object.keys(sessionsByCoach).map(coachId => (\r\n          <div key={coachId} className=\"coach-sessions-group\">\r\n            <div className=\"coach-header\">\r\n              <div className=\"coach-avatar\">\r\n                {getCoachInitials(coachId)}\r\n              </div>\r\n              <div className=\"coach-info\">\r\n                <div className=\"coach-name\">{getCoachName(coachId)}</div>\r\n                <div className=\"coach-team\">{getCoachTeam(coachId)}</div>\r\n              </div>\r\n              <div className=\"sessions-count\">\r\n                {sessionsByCoach[coachId].length} {sessionsByCoach[coachId].length === 1 ? 'sesión' : 'sesiones'}\r\n              </div>\r\n            </div>\r\n            \r\n            <div className=\"sessions-grid\">\r\n              {sessionsByCoach[coachId].map(session => (\r\n                <div \r\n                  key={session.id || session._id} \r\n                  className=\"session-card\"\r\n                  onClick={() => handleSessionClick(session)}\r\n                >\r\n                  <div className=\"session-header\">\r\n                    <div className=\"session-date\">\r\n                      <i className=\"fas fa-calendar\"></i> {formatDate(session.date)}\r\n                    </div>\r\n                    <div className=\"session-created\">\r\n                      <i className=\"fas fa-clock\"></i> Creada: {formatDate(session.created_at)}\r\n                    </div>\r\n                  </div>\r\n                  \r\n                  <div className=\"session-body\">\r\n                    <div className=\"session-tasks\">\r\n                      <h3>Tareas ({session.tasks_details ? session.tasks_details.length : 0})</h3>\r\n                      <ul className=\"task-list\">\r\n                        {session.tasks_details && session.tasks_details.map(task => (\r\n                          <li key={task.id || task._id} className=\"task-item\">\r\n                            <span className=\"task-title\">{task.title}</span>\r\n                            <span className=\"task-duration\">{task.duration}min</span>\r\n                          </li>\r\n                        ))}\r\n                      </ul>\r\n                    </div>\r\n                    \r\n                    <div className=\"session-players\">\r\n                      <h3>\r\n                        Jugadores ({session.players_details ? session.players_details.length : 0})\r\n                      </h3>\r\n                      <div className=\"player-avatars\">\r\n                        {session.players_details && session.players_details.slice(0, 5).map(player => (\r\n                          <div \r\n                            key={player.id || player._id} \r\n                            className=\"player-avatar\" \r\n                            title={`${player.name} ${player.last_name}`}\r\n                          >\r\n                            {player.name[0]}{player.last_name[0]}\r\n                          </div>\r\n                        ))}\r\n                        \r\n                        {session.players_details && session.players_details.length > 5 && (\r\n                          <div className=\"player-avatar more\">\r\n                            +{session.players_details.length - 5}\r\n                          </div>\r\n                        )}\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                  \r\n                  <div className=\"session-footer\">\r\n                    <div className=\"session-duration\">\r\n                      <i className=\"fas fa-hourglass-half\"></i>\r\n                      Duración total: {calculateSessionDuration(session)} min\r\n                    </div>\r\n                    <button className=\"view-details-btn\">\r\n                      <i className=\"fas fa-eye\"></i> Ver detalles\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          </div>\r\n        ))}\r\n      </div>\r\n      \r\n      {/* Modal de detalles de sesión */}\r\n      {selectedSession && (\r\n        <div className=\"modal-overlay\" onClick={() => setSelectedSession(null)}>\r\n          <div className=\"session-detail-modal\" onClick={e => e.stopPropagation()}>\r\n            <div className=\"modal-header\">\r\n              <h2>Detalles de la Sesión</h2>\r\n              <button className=\"close-modal\" onClick={() => setSelectedSession(null)}>\r\n                <i className=\"fas fa-times\"></i>\r\n              </button>\r\n            </div>\r\n            \r\n            {loading ? (\r\n              <div className=\"modal-loading\">\r\n                <i className=\"fas fa-spinner fa-spin\"></i>\r\n                <span>Cargando detalles...</span>\r\n              </div>\r\n            ) : (\r\n              <div className=\"modal-content\">\r\n                <div className=\"session-meta\">\r\n                  <div className=\"meta-item\">\r\n                    <i className=\"fas fa-calendar\"></i>\r\n                    <span>Fecha: {formatDate(selectedSession.date)}</span>\r\n                  </div>\r\n                  <div className=\"meta-item\">\r\n                    <i className=\"fas fa-user\"></i>\r\n                    <span>Entrenador: {getCoachName(selectedSession.owner)}</span>\r\n                  </div>\r\n                  <div className=\"meta-item\">\r\n                    <i className=\"fas fa-futbol\"></i>\r\n                    <span>Equipo: {getCoachTeam(selectedSession.owner)}</span>\r\n                  </div>\r\n                  <div className=\"meta-item\">\r\n                    <i className=\"fas fa-clock\"></i>\r\n                    <span>Duración: {calculateSessionDuration(selectedSession)} minutos</span>\r\n                  </div>\r\n                </div>\r\n                \r\n                <div className=\"session-detail-sections\">\r\n                  <div className=\"detail-section\">\r\n                    <h3>Tareas de la Sesión</h3>\r\n                    <div className=\"tasks-detail-grid\">\r\n                      {selectedSession.tasks_details && selectedSession.tasks_details.map(task => (\r\n                        <div key={task.id || task._id} className=\"task-detail-card\">\r\n                          <div className=\"task-image\">\r\n                            <img src={task.image} alt={task.title} onError={(e) => {\r\n                              e.target.onerror = null; \r\n                              e.target.src = \"https://via.placeholder.com/150?text=Sin+imagen\"\r\n                            }} />\r\n                          </div>\r\n                          <div className=\"task-detail-content\">\r\n                            <h4>{task.title}</h4>\r\n                            <p>{task.description}</p>\r\n                            <div className=\"task-detail-meta\">\r\n                              <span><i className=\"fas fa-users\"></i> {task.participants} jugadores</span>\r\n                              <span><i className=\"fas fa-clock\"></i> {task.duration} min</span>\r\n                              <span><i className=\"fas fa-tag\"></i> {task.category}</span>\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                      ))}\r\n                    </div>\r\n                  </div>\r\n                  \r\n                  <div className=\"detail-section\">\r\n                    <h3>Jugadores Seleccionados</h3>\r\n                    <div className=\"players-detail-grid\">\r\n                      {selectedSession.players_details && selectedSession.players_details.map(player => (\r\n                        <div key={player.id || player._id} className=\"player-detail-card\">\r\n                          <div className=\"player-number\">{player.number}</div>\r\n                          <div className=\"player-detail-name\">\r\n                            {player.name} {player.last_name}\r\n                          </div>\r\n                          <div className=\"player-position\">{player.position}</div>\r\n                        </div>\r\n                      ))}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            )}\r\n            \r\n            <div className=\"modal-footer\">\r\n              <button className=\"btn btn-secondary\" onClick={() => setSelectedSession(null)}>\r\n                Cerrar\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default AdminSessionsSection;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}